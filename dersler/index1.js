const questions = [
    {//1
        question: "Hello. My .......... Manuel. What's .......... name?",
        optionA: "name is / my",
        optionB: "name's / your",
        optionC: "name / your",
        optionD: "name's / you",
        correctOption: "optionB"
    },

    {//2
        question: "Rose and Mike .......... from London.",
        optionA: "are",
        optionB: "is",
        optionC: "with",
        optionD: "them",
        correctOption: "optionA"
    },

    {//3
        question: "I have a son. .......... name is Jack.",
        optionA: "His",
        optionB: "Your",
        optionC: "Our",
        optionD: "Her",
        correctOption: "optionA"
    },

    {//4
        question: "I want .......... English for my job.",
        optionA: "teaches",
        optionB: "to learns",
        optionC: "to learn",
        optionD: "teach",
        correctOption: "optionC"
    },
    
    {//5
        question: "Bir Köpek",
        optionA: "A Cat",
        optionB: "A Rabbit",
        optionC: "A Dog",
        optionD: "A turtle",
        correctOption: "optionC"
    },

    {//6
        question: "Üç Yeşil Kaplumbağa",
        optionA: "Three Yellow Turtles",
        optionB: "Three Green Turtles",
        optionC: "Three Brown Turtles",
        optionD: "Three Red Turtles",
        correctOption: "optionB"
    },

    {//7
        question: "A panda usually feeds its baby with milk.",
        optionA: "Pandalar Çin'de yaşar ve bambu yaprakları yer.",
        optionB: "Panda, yavrusunu genellikle süt ile besler.",
        optionC: "Pandalar yalnızca ot ve yaprak yerler.",
        optionD: "Pandaların doğal çevresi Güney Kutbu'dur.",
        correctOption: "optionB"
    },

    {//8
        question: "A .......... is a reptile. It's poisonous. It can't walk. It's a carnivore.",
        optionA: "crocodile",
        optionB: "octopus",
        optionC: "snake",
        optionD: "whale",
        correctOption: "optionC"
    },

    {//9
        question: "Sandy has got a lot of .......... .",
        optionA: "milk",
        optionB: "butter",
        optionC: "coke",
        optionD: "honey",
        correctOption: "optionD"
    },

    {//10
        question: "..........? Two kilos of sugar.",
        optionA: "How much is it?",
        optionB: "Can I help you?",
        optionC: "How much sugar do you want?",
        optionD: "How much is a kilo of sugar?",
        correctOption: "optionC"
    },

    {//11
        question: "What do you prefer for breakfast? ............ .",
        optionA: "Jam and bread",
        optionB: "Blackberry",
        optionC: "Fish",
        optionD: "Cucumber",
        correctOption: "optionA"
    },

    {//12
        question: "............. ? I am hungry. I want 3 eggs.",
        optionA: "How much eggs do you want?",
        optionB: "What do you do?",
        optionC: "Are you hungry?",
        optionD: "How many eggs do you want?",
        correctOption: "optionD"
    },

    {//13
        question: "Wear your raincoat and boots. It ..... and ..... outside.",
        optionA: "cold / rainy",
        optionB: "snowy / hot",
        optionC: "hot / sunny",
        optionD: "windy / sunny",
        correctOption: "optionA"
    },

    {//14
        question: "In winter, we wear ..... , ..... and ..... .",
        optionA: "Skirt / raincoat and sun glasses",
        optionB: "Coat / boots and gloves",
        optionC: "Sun glasses / t-shirt and scarf",
        optionD: "Dress / hat and umbrella",
        correctOption: "optionB"
    },

    {//15
        question: "Shirly : The weather is ......... today. May I borrow your sunglasses? \n Susan : Sure. Here you are.",
        optionA: "Sunny",
        optionB: "Snowy",
        optionC: "Windy",
        optionD: "Rainy",
        correctOption: "optionA"
    },

    {//16
        question: "Bunlar benim çoraplarım. Onlar mordur.",
        optionA: "These are my socks. They're purple.",
        optionB: "This is my socks. They're purple.",
        optionC: "These are my socks. They're pink.",
        optionD: "Those are my socks. They're pink.",
        correctOption: "optionA"
    },

    {//17
        question: "Yellow + Red = ?",
        optionA: "Blue",
        optionB: "Pink",
        optionC: "Orange",
        optionD: "Black",
        correctOption: "optionC"
    },

    {//18
        question: "What color is an orange?",
        optionA: "Pink",
        optionB: "Red",
        optionC: "Orange",
        optionD: "Black",
        correctOption: "optionC"
    },

    {//19
        question: "Blue + Red = ?",
        optionA: "Green",
        optionB: "Purple",
        optionC: "Pink",
        optionD: "Yellow",
        correctOption: "optionB"
    },

    {//20
        question: "Gray = Black + ?",
        optionA: "White",
        optionB: "Yellow",
        optionC: "Black",
        optionD: "Green",
        correctOption: "optionA"
    },

    {//21
        question: "Sekiz Kalem Var.",
        optionA: "There are seven crayons.",
        optionB: "There are nine boards.",
        optionC: "There are eight pencils.",
        optionD: "There are ten pencils.",
        correctOption: "optionC"
    },

    {//22
        question: "Sixteen / Sixtysix / Sixty / Six",
        optionA: "60 / 66 / 6 / 16",
        optionB: "60 / 66 / 16 / 6",
        optionC: "16 / 66 / 60 / 6",
        optionD: "16 / 60 / 66 / 6",
        correctOption: "optionC"
    },

    {//23
        question: "50 + 6 = ?",
        optionA: "Fivetysix",
        optionB: "Fivesix",
        optionC: "Fiftysix",
        optionD: "Fifsixty",
        correctOption: "optionC"
    },

    {//24
        question: "Dört masa var.",
        optionA: "There are four desks.",
        optionB: "There are one desks.",
        optionC: "There are three desks.",
        optionD: "There are ten desks.",
        correctOption: "optionA"
    },

    {//25
        question: "My father’s wife is my ........ .",
        optionA: "aunt",
        optionB: "mother",
        optionC: "grandmother",
        optionD: "daughter",
        correctOption: "optionB"
    },

    {//26
        question: "My aunt’s daughters and sons are my ........ .",
        optionA: "cousins",
        optionB: "brothers",
        optionC: "sisters",
        optionD: "uncles",
        correctOption: "optionA"
    },

    {//27
        question: "Aşağıdakilerden hangisini '' it '' sözcüğüyle ifade edebiliriz?",
        optionA: "Mother",
        optionB: "Father",
        optionC: "Sister",
        optionD: "Dog",
        correctOption: "optionD"
    },

    {//28
        question: "My mother’s father is my ........ .",
        optionA: "grandfather",
        optionB: "grandmother",
        optionC: "brother",
        optionD: "uncle",
        correctOption: "optionA"
    },

    {//29
        question: "Hey, Judy! What ........ is it? \n It's nine o'clock.",
        optionA: "o'clock",
        optionB: "minutes",
        optionC: "half",
        optionD: "time",
        correctOption: "optionA"
    },

    {//30
        question: "Sam has Maths on Monday .......... .",
        optionA: "the afternoon",
        optionB: "at eight o’clock",
        optionC: "on weekdays",
        optionD: "at the weekend",
        correctOption: "optionD"
    },

    {//31
        question: "............ ? \n Every Saturday.",
        optionA: "When do you visit your grandparents",
        optionB: "Does she go to the cinema every Saturday",
        optionC: "What do you do on Saturdays",
        optionD: "What time do you wake up on Saturdays",
        correctOption: "optionB"
    },

    {//32
        question: "............ ? I want to talk you about Jessica’s birthday party preparations. \n At nine p.m.",
        optionA: "What time is it",
        optionB: "When do you leave home for work",
        optionC: "When do you leave home for work",
        optionD: "What time do you go online",
        correctOption: "optionB"
    },

    {//33
        question: "He likes dancing.",
        optionA: "O pasta yapmayı sever.",
        optionB: "O futbol oynamayı sever.",
        optionC: "O dans etmeyi sevmez.",
        optionD: "O dans etmeyi sever.",
        correctOption: "optionD"
    },

    {//34
        question: ".......... do you rake English class? \n I want to improve my speaking.",
        optionA: "Why",
        optionB: "What",
        optionC: "Where",
        optionD: "Whose",
        correctOption: "optionA"
    },

    {//35
        question: "What does a logger do? \n A logger .......... .",
        optionA: "amuses people and makes them laugh",
        optionB: "puts out fires and saves people",
        optionC: "cuts down trees for their wood",
        optionD: "fixes or repairs machines",
        correctOption: "optionC"
    },

    {//36
        question: ".......... ? \n Two years.",
        optionA: "Where did you live in the USA",
        optionB: "How often did you go to Merzifon",
        optionC: "When did you go to Suluova",
        optionD: "How long did you live in Taşova",
        correctOption: "optionD"
    },

    {//37
        question: "For the past few nights he ........ on the floor.",
        optionA: "has slept",
        optionB: "slept",
        optionC: "sleeps",
        optionD: "is sleeping",
        correctOption: "optionA"
    },

    {//38
        question: "Ayhan ........ in London for five years-from 1985 to 1990.",
        optionA: "was living",
        optionB: "has lived",
        optionC: "lived",
        optionD: "would live",
        correctOption: "optionC"
    },

    {//39
        question: "A: How are you feeling? \n B: I've been feeling better since ........ .",
        optionA: "the doctor will come",
        optionB: "the doctor had come",
        optionC: "the doctor has came",
        optionD: "the doctor came",
        correctOption: "optionD"
    },

    {//40
        question: "She ........ in Ankara for several years before she moved to Istanbul.",
        optionA: "had lived",
        optionB: "has lived",
        optionC: "has been living",
        optionD: "was living",
        correctOption: "optionA"
    },

    {
        question: "The children ........ to the theater.",
        optionA: "doesn’t go",
        optionB: "go",
        optionC: "don’t go",
        optionD: "goes",
        correctOption: "optionC"
    },

    {
        question: "The meeting ........ at 15 o’clock everyday.",
        optionA: "start",
        optionB: "starts",
        optionC: "don’t starts",
        optionD: "doesn’t starts",
        correctOption: "optionB"
    },

    {
        question: "And no one ........ their pain.",
        optionA: "sees",
        optionB: "does see",
        optionC: "do see",
        optionD: "see",
        correctOption: "optionA"
    },

    {
        question: "My kids ........ school !",
        optionA: "hating",
        optionB: "hates",
        optionC: "to hate",
        optionD: "hate",
        correctOption: "optionD"
    },

    {
        question: "Jonathan: ............ . \n Jayce: I haven’t gone to the school for three days",
        optionA: "How long haven’t you gone to the school?",
        optionB: "Why haven’t you gone to the school for three days?",
        optionC: "Where have you been for three days?",
        optionD: "Have you gone to the school for three days?",
        correctOption: "optionA"
    },

    {
        question: "İstanbul is a kind of place ........ attracts lots of tourist.",
        optionA: "which",
        optionB: "where",
        optionC: "when",
        optionD: "who",
        correctOption: "optionB"
    },

    {
        question: "If we ........ richer, we ........ buy a bigger house.",
        optionA: "are / can",
        optionB: "were / can",
        optionC: "are / could",
        optionD: "were / could",
        correctOption: "optionD"
    },

    {
        question: "I cannot borrow money from them because ........ of them has money.",
        optionA: "neither",
        optionB: "either",
        optionC: "both",
        optionD: "all",
        correctOption: "optionA"
    },
]


let shuffledQuestions = [] 

function handleQuestions() { 
    while (shuffledQuestions.length <= 39) {
        const random = questions[Math.floor(Math.random() * questions.length)]
        if (!shuffledQuestions.includes(random)) {
            shuffledQuestions.push(random)
        }
    }
}


let questionNumber = 1
let playerScore = 0  
let wrongAttempt = 0 
let indexNumber = 0 

function NextQuestion(index) {
    handleQuestions()
    const currentQuestion = shuffledQuestions[index]
    document.getElementById("question-number").innerHTML = questionNumber
    document.getElementById("player-score").innerHTML = playerScore
    document.getElementById("display-question").innerHTML = currentQuestion.question;
    document.getElementById("option-one-label").innerHTML = currentQuestion.optionA;
    document.getElementById("option-two-label").innerHTML = currentQuestion.optionB;
    document.getElementById("option-three-label").innerHTML = currentQuestion.optionC;
    document.getElementById("option-four-label").innerHTML = currentQuestion.optionD;

}


function checkForAnswer() {
    const currentQuestion = shuffledQuestions[indexNumber] 
    const currentQuestionAnswer = currentQuestion.correctOption 
    const options = document.getElementsByName("option"); 
    let correctOption = null

    options.forEach((option) => {
        if (option.value === currentQuestionAnswer) {
            correctOption = option.labels[0].id
        }
    })

    if (options[0].checked === false && options[1].checked === false && options[2].checked === false && options[3].checked == false) {
        document.getElementById('option-modal').style.display = "flex"
    }

    options.forEach((option) => {
        if (option.checked === true && option.value === currentQuestionAnswer) {
            document.getElementById(correctOption).style.backgroundColor = "green"
            playerScore++ 
            indexNumber++ 
            setTimeout(() => {
                questionNumber++
            }, 1000)
        }

        else if (option.checked && option.value !== currentQuestionAnswer) {
            const wrongLabelId = option.labels[0].id
            document.getElementById(wrongLabelId).style.backgroundColor = "red"
            document.getElementById(correctOption).style.backgroundColor = "green"
            wrongAttempt++ 
            indexNumber++
            setTimeout(() => {
                questionNumber++
            }, 1000)
        }
    })
}



function handleNextQuestion() {
    checkForAnswer() 
    unCheckRadioButtons()
    setTimeout(() => {
        if (indexNumber <= 39) {
            NextQuestion(indexNumber)
        }
        else {
            handleEndGame()
        }
        resetOptionBackground()
    }, 1000);
}

function resetOptionBackground() {
    const options = document.getElementsByName("option");
    options.forEach((option) => {
        document.getElementById(option.labels[0].id).style.backgroundColor = ""
    })
}

function unCheckRadioButtons() {
    const options = document.getElementsByName("option");
    for (let i = 0; i < options.length; i++) {
        options[i].checked = false;
    }
}

function handleEndGame() {
    setCookie("sonSkor",playerScore,7);
    let remark = null
    let remarkColor = null

    if (playerScore <= 10) {
        remark = "Kötü Puan, Tekrar Yapmaya Devam Edin."
        remarkColor = "red"
    }
    else if (playerScore >= 11 && playerScore < 25) {
        remark = "Ortalama Puan, Daha İyisini Yapabilirsiniz."
        remarkColor = "orange"
    }
    else if (playerScore >= 25) {
        remark = "Mükkemmel Puan, Bu Şekilde Deavam Et."
        remarkColor = "green"
    }
    const playerGrade = (playerScore / 40) * 100

    document.getElementById('remarks').innerHTML = remark
    document.getElementById('remarks').style.color = remarkColor
    document.getElementById('grade-percentage').innerHTML = playerGrade
    document.getElementById('wrong-answers').innerHTML = wrongAttempt
    document.getElementById('right-answers').innerHTML = playerScore
    document.getElementById('score-modal').style.display = "flex"//
    

}

function closeScoreModal() {
//     questionNumber = 1
//     playerScore = 0
//     wrongAttempt = 0
//     indexNumber = 0
//     shuffledQuestions = []
//     NextQuestion(indexNumber)
//     document.getElementById('score-modal').style.display = "none"
}

function closeOptionModal() {
    document.getElementById('option-modal').style.display = "none"
}
function setCookie(name,value,days) {
    var expires = "";
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "")  + expires + "; path=/";
}